!function(){"use strict";function t(t){return t&&t.__esModule?t.default:t}function n(t,n){return n={exports:{}},t(n,n.exports),n.exports}var e=Math.ceil,r=Math.floor,i=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)},o=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},c=i,u=o,a=function(t){return function(n,e){var r,i,o=String(u(n)),a=c(e),f=o.length;return a<0||a>=f?t?"":void 0:(r=o.charCodeAt(a),r<55296||r>56319||a+1===f||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):(r-55296<<10)+(i-56320)+65536)}},f=!0,s=n(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),h=n(function(t){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)}),l=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},v=l,d=function(t,n,e){if(v(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}},p=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=p,g=function(t){if(!y(t))throw TypeError(t+" is not an object!");return t},_=function(t){try{return!!t()}catch(t){return!0}},m=!_(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),w=p,b=s.document,j=w(b)&&w(b.createElement),O=function(t){return j?b.createElement(t):{}},S=!m&&!_(function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a}),E=p,M=function(t,n){if(!E(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!E(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!E(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!E(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")},P=g,T=S,x=M,k=Object.defineProperty,A=m?Object.defineProperty:function(t,n,e){if(P(t),n=x(n,!0),P(e),T)try{return k(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t},I={f:A},F=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},R=I,L=F,C=m?function(t,n,e){return R.f(t,n,L(1,e))}:function(t,n,e){return t[n]=e,t},B=s,W=h,N=d,U=C,z="prototype",D=function(t,n,e){var r,i,o,c=t&D.F,u=t&D.G,a=t&D.S,f=t&D.P,s=t&D.B,h=t&D.W,l=u?W:W[n]||(W[n]={}),v=l[z],d=u?B:a?B[n]:(B[n]||{})[z];u&&(e=n);for(r in e)i=!c&&d&&void 0!==d[r],i&&r in l||(o=i?d[r]:e[r],l[r]=u&&"function"!=typeof d[r]?e[r]:s&&i?N(o,B):h&&d[r]==o?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[z]=t[z],n}(o):f&&"function"==typeof o?N(Function.call,o):o,f&&((l.virtual||(l.virtual={}))[r]=o,t&D.R&&v&&!v[r]&&U(v,r,o)))};D.F=1,D.G=2,D.S=4,D.P=8,D.B=16,D.W=32,D.U=64,D.R=128;var G=D,K=C,q={}.hasOwnProperty,H=function(t,n){return q.call(t,n)},J={},Q={}.toString,V=function(t){return Q.call(t).slice(8,-1)},X=V,Y=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==X(t)?t.split(""):Object(t)},Z=Y,$=o,tt=function(t){return Z($(t))},nt=i,et=Math.min,rt=function(t){return t>0?et(nt(t),9007199254740991):0},it=i,ot=Math.max,ct=Math.min,ut=function(t,n){return t=it(t),t<0?ot(t+n,0):ct(t,n)},at=tt,ft=rt,st=ut,ht=function(t){return function(n,e,r){var i,o=at(n),c=ft(o.length),u=st(r,c);if(t&&e!=e){for(;c>u;)if(i=o[u++],i!=i)return!0}else for(;c>u;u++)if((t||u in o)&&o[u]===e)return t||u||0;return!t&&-1}},lt=s,vt="__core-js_shared__",dt=lt[vt]||(lt[vt]={}),pt=function(t){return dt[t]||(dt[t]={})},yt=0,gt=Math.random(),_t=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++yt+gt).toString(36))},mt=pt("keys"),wt=_t,bt=function(t){return mt[t]||(mt[t]=wt(t))},jt=H,Ot=tt,St=ht(!1),Et=bt("IE_PROTO"),Mt=function(t,n){var e,r=Ot(t),i=0,o=[];for(e in r)e!=Et&&jt(r,e)&&o.push(e);for(;n.length>i;)jt(r,e=n[i++])&&(~St(o,e)||o.push(e));return o},Pt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Tt=Mt,xt=Pt,kt=Object.keys||function(t){return Tt(t,xt)},At=I,It=g,Ft=kt,Rt=m?Object.defineProperties:function(t,n){It(t);for(var e,r=Ft(n),i=r.length,o=0;i>o;)At.f(t,e=r[o++],n[e]);return t},Lt=s.document&&document.documentElement,Ct=g,Bt=Rt,Wt=Pt,Nt=bt("IE_PROTO"),Ut=function(){},zt="prototype",Dt=function(){var t,n=O("iframe"),e=Wt.length,r="<",i=">";for(n.style.display="none",Lt.appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(r+"script"+i+"document.F=Object"+r+"/script"+i),t.close(),Dt=t.F;e--;)delete Dt[zt][Wt[e]];return Dt()},Gt=Object.create||function(t,n){var e;return null!==t?(Ut[zt]=Ct(t),e=new Ut,Ut[zt]=null,e[Nt]=t):e=Dt(),void 0===n?e:Bt(e,n)},Kt=n(function(t){var n=pt("wks"),e=_t,r=s.Symbol,i="function"==typeof r,o=t.exports=function(t){return n[t]||(n[t]=i&&r[t]||(i?r:e)("Symbol."+t))};o.store=n}),qt=I.f,Ht=H,Jt=Kt("toStringTag"),Qt=function(t,n,e){t&&!Ht(t=e?t:t.prototype,Jt)&&qt(t,Jt,{configurable:!0,value:n})},Vt=Gt,Xt=F,Yt=Qt,Zt={};C(Zt,Kt("iterator"),function(){return this});var $t=function(t,n,e){t.prototype=Vt(Zt,{next:Xt(1,e)}),Yt(t,n+" Iterator")},tn=o,nn=function(t){return Object(tn(t))},en=H,rn=nn,on=bt("IE_PROTO"),cn=Object.prototype,un=Object.getPrototypeOf||function(t){return t=rn(t),en(t,on)?t[on]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?cn:null},an=f,fn=G,sn=K,hn=C,ln=H,vn=J,dn=$t,pn=Qt,yn=un,gn=Kt("iterator"),_n=!([].keys&&"next"in[].keys()),mn="@@iterator",wn="keys",bn="values",jn=function(){return this},On=function(t,n,e,r,i,o,c){dn(e,n,r);var u,a,f,s=function(t){if(!_n&&t in d)return d[t];switch(t){case wn:return function(){return new e(this,t)};case bn:return function(){return new e(this,t)}}return function(){return new e(this,t)}},h=n+" Iterator",l=i==bn,v=!1,d=t.prototype,p=d[gn]||d[mn]||i&&d[i],y=p||s(i),g=i?l?s("entries"):y:void 0,_="Array"==n?d.entries||p:p;if(_&&(f=yn(_.call(new t)),f!==Object.prototype&&(pn(f,h,!0),an||ln(f,gn)||hn(f,gn,jn))),l&&p&&p.name!==bn&&(v=!0,y=function(){return p.call(this)}),an&&!c||!_n&&!v&&d[gn]||hn(d,gn,y),vn[n]=y,vn[h]=jn,i)if(u={values:l?y:s(bn),keys:o?y:s(wn),entries:g},c)for(a in u)a in d||sn(d,a,u[a]);else fn(fn.P+fn.F*(_n||v),n,u);return u},Sn=a(!0);On(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=Sn(n,e),this._i+=t.length,{value:t,done:!1})});var En=function(){},Mn=function(t,n){return{value:n,done:!!t}},Pn=En,Tn=Mn,xn=J,kn=tt;On(Array,"Array",function(t,n){this._t=kn(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,Tn(1)):"keys"==n?Tn(0,e):"values"==n?Tn(0,t[e]):Tn(0,[e,t[e]])},"values");xn.Arguments=xn.Array,Pn("keys"),Pn("values"),Pn("entries");for(var An=s,In=C,Fn=J,Rn=Kt("toStringTag"),Ln=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],Cn=0;Cn<5;Cn++){var Bn=Ln[Cn],Wn=An[Bn],Nn=Wn&&Wn.prototype;Nn&&!Nn[Rn]&&In(Nn,Rn,Bn),Fn[Bn]=Fn.Array}var Un,zn,Dn,Gn=V,Kn=Kt("toStringTag"),qn="Arguments"==Gn(function(){return arguments}()),Hn=function(t,n){try{return t[n]}catch(t){}},Jn=function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=Hn(n=Object(t),Kn))?e:qn?Gn(n):"Object"==(r=Gn(n))&&"function"==typeof n.callee?"Arguments":r},Qn=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t},Vn=g,Xn=function(t,n,e,r){try{return r?n(Vn(e)[0],e[1]):n(e)}catch(n){var i=t.return;throw void 0!==i&&Vn(i.call(t)),n}},Yn=J,Zn=Kt("iterator"),$n=Array.prototype,te=function(t){return void 0!==t&&(Yn.Array===t||$n[Zn]===t)},ne=Jn,ee=Kt("iterator"),re=J,ie=h.getIteratorMethod=function(t){if(void 0!=t)return t[ee]||t["@@iterator"]||re[ne(t)]},oe=n(function(t){var n=d,e=Xn,r=te,i=g,o=rt,c=ie,u={},a={},f=t.exports=function(t,f,s,h,l){var v,d,p,y,g=l?function(){return t}:c(t),_=n(s,h,f?2:1),m=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(r(g)){for(v=o(t.length);v>m;m++)if(y=f?_(i(d=t[m])[0],d[1]):_(t[m]),y===u||y===a)return y}else for(p=g.call(t);!(d=p.next()).done;)if(y=e(p,_,d.value,f),y===u||y===a)return y};f.BREAK=u,f.RETURN=a}),ce=g,ue=l,ae=Kt("species"),fe=function(t,n){var e,r=ce(t).constructor;return void 0===r||void 0==(e=ce(r)[ae])?n:ue(e)},se=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)},he=d,le=se,ve=Lt,de=O,pe=s,ye=pe.process,ge=pe.setImmediate,_e=pe.clearImmediate,me=pe.MessageChannel,we=0,be={},je="onreadystatechange",Oe=function(){var t=+this;if(be.hasOwnProperty(t)){var n=be[t];delete be[t],n()}},Se=function(t){Oe.call(t.data)};ge&&_e||(ge=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return be[++we]=function(){le("function"==typeof t?t:Function(t),n)},Un(we),we},_e=function(t){delete be[t]},"process"==V(ye)?Un=function(t){ye.nextTick(he(Oe,t,1))}:me?(zn=new me,Dn=zn.port2,zn.port1.onmessage=Se,Un=he(Dn.postMessage,Dn,1)):pe.addEventListener&&"function"==typeof postMessage&&!pe.importScripts?(Un=function(t){pe.postMessage(t+"","*")},pe.addEventListener("message",Se,!1)):Un=je in de("script")?function(t){ve.appendChild(de("script"))[je]=function(){ve.removeChild(this),Oe.call(t)}}:function(t){setTimeout(he(Oe,t,1),0)});var Ee={set:ge,clear:_e},Me=s,Pe=Ee.set,Te=Me.MutationObserver||Me.WebKitMutationObserver,xe=Me.process,ke=Me.Promise,Ae="process"==V(xe),Ie=function(){var t,n,e,r=function(){var r,i;for(Ae&&(r=xe.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?e():n=void 0,r}}n=void 0,r&&r.enter()};if(Ae)e=function(){xe.nextTick(r)};else if(Te){var i=!0,o=document.createTextNode("");new Te(r).observe(o,{characterData:!0}),e=function(){o.data=i=!i}}else if(ke&&ke.resolve){var c=ke.resolve();e=function(){c.then(r)}}else e=function(){Pe.call(Me,r)};return function(r){var i={fn:r,next:void 0};n&&(n.next=i),t||(t=i,e()),n=i}},Fe=C,Re=function(t,n,e){for(var r in n)e&&t[r]?t[r]=n[r]:Fe(t,r,n[r]);return t},Le=s,Ce=h,Be=I,We=m,Ne=Kt("species"),Ue=function(t){var n="function"==typeof Ce[t]?Ce[t]:Le[t];We&&n&&!n[Ne]&&Be.f(n,Ne,{configurable:!0,get:function(){return this}})},ze=Kt("iterator"),De=!1;try{var Ge=[7][ze]();Ge.return=function(){De=!0},Array.from(Ge,function(){throw 2})}catch(t){}var Ke,qe,He,Je=function(t,n){if(!n&&!De)return!1;var e=!1;try{var r=[7],i=r[ze]();i.next=function(){return{done:e=!0}},r[ze]=function(){return i},t(r)}catch(t){}return e},Qe=f,Ve=s,Xe=d,Ye=Jn,Ze=G,$e=p,tr=l,nr=Qn,er=oe,rr=fe,ir=Ee.set,or=Ie(),cr="Promise",ur=Ve.TypeError,ar=Ve.process,fr=Ve[cr],ar=Ve.process,sr="process"==Ye(ar),hr=function(){},lr=!!function(){try{var t=fr.resolve(1),n=(t.constructor={})[Kt("species")]=function(t){t(hr,hr)};return(sr||"function"==typeof PromiseRejectionEvent)&&t.then(hr)instanceof n}catch(t){}}(),vr=function(t,n){return t===n||t===fr&&n===He},dr=function(t){var n;return!(!$e(t)||"function"!=typeof(n=t.then))&&n},pr=function(t){return vr(fr,t)?new yr(t):new qe(t)},yr=qe=function(t){var n,e;this.promise=new t(function(t,r){if(void 0!==n||void 0!==e)throw ur("Bad Promise constructor");n=t,e=r}),this.resolve=tr(n),this.reject=tr(e)},gr=function(t){try{t()}catch(t){return{error:t}}},_r=function(t,n){if(!t._n){t._n=!0;var e=t._c;or(function(){for(var r=t._v,i=1==t._s,o=0,c=function(n){var e,o,c=i?n.ok:n.fail,u=n.resolve,a=n.reject,f=n.domain;try{c?(i||(2==t._h&&br(t),t._h=1),c===!0?e=r:(f&&f.enter(),e=c(r),f&&f.exit()),e===n.promise?a(ur("Promise-chain cycle")):(o=dr(e))?o.call(e,u,a):u(e)):a(r)}catch(t){a(t)}};e.length>o;)c(e[o++]);t._c=[],t._n=!1,n&&!t._h&&mr(t)})}},mr=function(t){ir.call(Ve,function(){var n,e,r,i=t._v;if(wr(t)&&(n=gr(function(){sr?ar.emit("unhandledRejection",i,t):(e=Ve.onunhandledrejection)?e({promise:t,reason:i}):(r=Ve.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=sr||wr(t)?2:1),t._a=void 0,n)throw n.error})},wr=function(t){if(1==t._h)return!1;for(var n,e=t._a||t._c,r=0;e.length>r;)if(n=e[r++],n.fail||!wr(n.promise))return!1;return!0},br=function(t){ir.call(Ve,function(){var n;sr?ar.emit("rejectionHandled",t):(n=Ve.onrejectionhandled)&&n({promise:t,reason:t._v})})},jr=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),_r(n,!0))},Or=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw ur("Promise can't be resolved itself");(n=dr(t))?or(function(){var r={_w:e,_d:!1};try{n.call(t,Xe(Or,r,1),Xe(jr,r,1))}catch(t){jr.call(r,t)}}):(e._v=t,e._s=1,_r(e,!1))}catch(t){jr.call({_w:e,_d:!1},t)}}};lr||(fr=function(t){nr(this,fr,cr,"_h"),tr(t),Ke.call(this);try{t(Xe(Or,this,1),Xe(jr,this,1))}catch(t){jr.call(this,t)}},Ke=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Ke.prototype=Re(fr.prototype,{then:function(t,n){var e=pr(rr(this,fr));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=sr?ar.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&_r(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),yr=function(){var t=new Ke;this.promise=t,this.resolve=Xe(Or,t,1),this.reject=Xe(jr,t,1)}),Ze(Ze.G+Ze.W+Ze.F*!lr,{Promise:fr}),Qt(fr,cr),Ue(cr),He=h[cr],Ze(Ze.S+Ze.F*!lr,cr,{reject:function(t){var n=pr(this),e=n.reject;return e(t),n.promise}}),Ze(Ze.S+Ze.F*(Qe||!lr),cr,{resolve:function(t){if(t instanceof fr&&vr(t.constructor,this))return t;var n=pr(this),e=n.resolve;return e(t),n.promise}}),Ze(Ze.S+Ze.F*!(lr&&Je(function(t){fr.all(t).catch(hr)})),cr,{all:function(t){var n=this,e=pr(n),r=e.resolve,i=e.reject,o=gr(function(){var e=[],o=0,c=1;er(t,!1,function(t){var u=o++,a=!1;e.push(void 0),c++,n.resolve(t).then(function(t){a||(a=!0,e[u]=t,--c||r(e))},i)}),--c||r(e)});return o&&i(o.error),e.promise},race:function(t){var n=this,e=pr(n),r=e.reject,i=gr(function(){er(t,!1,function(t){n.resolve(t).then(e.resolve,r)})});return i&&r(i.error),e.promise}});var Sr=h.Promise,Er=n(function(t){t.exports={default:Sr,__esModule:!0}}),Mr=t(Er),Pr=function(t){return t.reduce(function(t,n){return t.width=n.width>t.width?n.width:t.width,t.height=n.height>t.height?n.height:t.height,t},{width:0,height:0})},Tr=function(t){for(var n=t.length,e=Pr(t),r=e.width,i=e.height,o=r*n,c=500,u=Math.ceil(o/c),a=Math.ceil(Math.sqrt(o)),f=9e9,s=0,h=u;h<=a;h++){var l=Math.ceil(o/h),v=l*h;if(v<f&&(f=v,s=l),v==o)break}return{width:s,height:i*Math.ceil(s/r),gridSize:{width:r,height:i}}},xr=function(t,n,e){for(var r=t.canvas,i=r.width,o=r.height,c=i/e,u=o/n,a=0;a<=n;a++)t.save(),t.lineWidth=.5,t.beginPath(),t.moveTo(a*c+.5,0),t.lineTo(a*c+.5,o),t.stroke(),t.restore();for(var f=0;f<=e;f++)t.save(),t.lineWidth=.5,t.beginPath(),t.moveTo(0,f*u+.5),t.lineTo(i,f*u+.5),t.stroke(),t.restore()},kr=function(t,n){var e=Tr(n),r=e.width,i=e.height,o=e.gridSize,c=o.width,u=o.height,a=r/c,f=i/u,s=t.canvas;t.clearRect(0,0,s.width,s.height),s.width=r,s.height=i,xr(t,f,a),n.forEach(function(n,e){var r=n.width,i=n.height,o=i*(e%a)+(c-r)/2,f=i*Math.floor(e/a)+(u-i)/2;t.drawImage(n,o,f)})},Ar=function(t){return new Mr(function(n){var e=new Image;e.src=t,e.onload=function(){n(e)}})},Ir=function(t){return new Mr(function(n){var e=new FileReader;e.readAsDataURL(t),e.onload=function(t){n(Ar(t.target.result))}})},Fr=document.getElementById("canvas").getContext("2d"),Rr=document.getElementById("jsSelectFile"),Lr=document.getElementById("jsFileInput");Rr.addEventListener("click",function(){Lr.click()}),Lr.addEventListener("change",function(t){for(var n=t.target.files,e=[],r=0;r<n.length;r++)e.push(Ir(n[r]));Mr.all(e).then(function(t){kr(Fr,t)})})}();
//# sourceMappingURL=app.js.map
